(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{418:function(t,s,a){"use strict";a.r(s);var e=a(23),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"cups"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cups"}},[t._v("#")]),t._v(" CUPS")]),t._v(" "),a("blockquote",[a("p",[t._v("使用 CUPS 建立 Print Server")])]),t._v(" "),a("h2",{attrs:{id:"一、-說明及安裝"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、-說明及安裝"}},[t._v("#")]),t._v(" 一、 說明及安裝")]),t._v(" "),a("p",[t._v("Ubuntu列印和列印服務的主要機制是，通用UNIX列印系統（CUPS）。該列印系統是免費提供的便攜式列印層，已成為大多數Linux發行版中列印的新標準。")]),t._v(" "),a("p",[t._v("CUPS管理列印作業和佇列，並使用標準的Internet列印協定（IPP）提供遠端列印，同時支持從點陣到雷射以及介於兩者之間的各種列印機。CUPS還支持PostScript列印機描述（PPD）和遠端列印機的自動檢測，並具有簡單的基於Web的設定和管理工具。")]),t._v(" "),a("h5",{attrs:{id:"使用環境如下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用環境如下"}},[t._v("#")]),t._v(" 使用環境如下")]),t._v(" "),a("ol",[a("li",[t._v("Ubuntu 18.04")])]),t._v(" "),a("h3",{attrs:{id:"_1-安裝相關套件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-安裝相關套件"}},[t._v("#")]),t._v(" 1. 安裝相關套件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ sudo apt-get update\n$ sudo apt-get install cups\n")])])]),a("h2",{attrs:{id:"二、-設定相關資料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、-設定相關資料"}},[t._v("#")]),t._v(" 二、 設定相關資料")]),t._v(" "),a("h3",{attrs:{id:"_1-設定前備份"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-設定前備份"}},[t._v("#")]),t._v(" 1. 設定前備份")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ sudo cp /etc/cups/cupsd.conf /etc/cups/cupsd.conf.original\n$ sudo chmod a-w /etc/cups/cupsd.conf.original\n")])])]),a("h3",{attrs:{id:"_2-設定值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-設定值"}},[t._v("#")]),t._v(" 2. 設定值")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" /etc/cups/cupsd.conf \n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("Listen "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:631 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# existing loopback Listen")]),t._v("\nListen /var/run/cups/cups.sock "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# existing socket Listen")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 限定本機以外其他內網主機可連線")]),t._v("\nListen "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".10.250:631 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Listen on the LAN interface, Port 631 (IPP)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或使用 Post 不限制主機")]),t._v("\nPost "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("631")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Listen on port 631 on all interfaces")]),t._v("\n")])])]),a("p",[t._v("調整後皆需要重啟服務")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ sudo systemctl restart cups.service\n")])])]),a("h2",{attrs:{id:"三、-疑難雜症"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、-疑難雜症"}},[t._v("#")]),t._v(" 三、 疑難雜症")]),t._v(" "),a("h3",{attrs:{id:"_1-網頁顯示-403-forbidden"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-網頁顯示-403-forbidden"}},[t._v("#")]),t._v(" 1. 網頁顯示 403 Forbidden")]),t._v(" "),a("p",[t._v("表示權限不足")]),t._v(" "),a("h4",{attrs:{id:"solution-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#solution-1"}},[t._v("#")]),t._v(" Solution 1:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("sudo vim /etc/cups/cupsd.conf\n")])])]),a("p",[t._v("找到")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<Location /> \n<Location /admin> \n<Location /admin/conf>\n")])])]),a("p",[t._v("加入此行")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Allow all\n")])])]),a("p",[t._v("並重啟服務")]),t._v(" "),a("p",[t._v("可參考 http://ubuntuforums.org/showthread.php?t=310450")]),t._v(" "),a("h4",{attrs:{id:"solution-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#solution-2"}},[t._v("#")]),t._v(" Solution 2:")]),t._v(" "),a("p",[t._v("輸入此命令會改寫目前的 conf")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("sudo cupsctl --remote-admin\n")])])]),a("p",[t._v("並重啟服務")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("參考")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://help.ubuntu.com/lts/serverguide/cups.html.zh-CN",target:"_blank",rel:"noopener noreferrer"}},[t._v("CUPS － 打印服務器"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://ubuntuforums.org/showthread.php?t=1446262",target:"_blank",rel:"noopener noreferrer"}},[t._v("CUPS web config 403 Forbidden"),a("OutboundLink")],1)])])])])}),[],!1,null,null,null);s.default=r.exports}}]);